"use strict";(self.webpackChunkpifit=self.webpackChunkpifit||[]).push([[802],{5036:(e,t,o)=>{o.d(t,{A:()=>n});o(5043);const n=o.p+"static/media/Pifit-white.b4d8af5d00c57e6d11ee5fc8a12d66d9.svg"},298:(e,t,o)=>{o.r(t),o.d(t,{default:()=>N});var n=o(5043),r=o(2019),i=o(9748),a=o(7705),c=o(7021),s=o(5475),l=o(3692),d=o(1880),u=o(9456),m=o(7744),p=o(2799);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var v=window,g=((0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.client_id,i=e.className,a=e.redirect_uri,c=e.scope,s=void 0===c?"profile":c,l=e.isOnlyGetToken,d=void 0!==l&&l,u=e.scope_data,m=void 0===u?{profile:{essential:!0}}:u,p=e.response_type,f=void 0===p?"token":p,g=e.children,w=e.onReject,b=e.onResolve,y=e.onLoginStart,k=(0,n.useRef)(null),_=(0,n.useState)(!1),C=_[0],j=_[1];(0,n.useEffect)((function(){!C&&T()}),[C]),(0,n.useEffect)((function(){return function(){k.current&&k.current.remove()}}),[]);var x=(0,n.useCallback)((function(){return!!document.getElementById("amazon-login")}),[]),S=(0,n.useCallback)((function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];k.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r}),[]),P=(0,n.useCallback)((function(e){try{return fetch("https://api.amazon.com/user/profile",{headers:{Authorization:"Bearer "+e.access_token}}).then((function(e){return e.json()})).then((function(t){b({provider:"amazon",data:h({},t,e)})})).catch((function(e){w(e)})).finally((function(){})),Promise.resolve()}catch(e){return Promise.reject(e)}}),[w,b]),N=(0,n.useCallback)((function(e){d?b({provider:"amazon",data:h({},e)}):P(e)}),[P,b,d]),E=(0,n.useCallback)((function(e){w(e)}),[w]),T=(0,n.useCallback)((function(){x()?j(!0):S(document,"script","amazon-login","https://assets.loginwithamazon.com/sdk/na/login1.js",(function(){v.amazon.Login.setClientId(r),j(!0)}))}),[x,r,S]),R=(0,n.useCallback)((function(){C&&(v.amazon?(y&&y(),v.amazon.Login.authorize({scope:s,scope_data:m,response_type:f,redirect_uri:a,state:o},(function(e){e.error?E(e.error):N(e)}))):(T(),w("Google SDK isn't loaded!")))}),[T,s,o,w,m,C,E,y,a,f,N]);return n.createElement("div",{className:i,onClick:R},g)})),window),w=((0,n.memo)((function(e){var t=e.appId,o=e.scope,r=void 0===o?"email,public_profile":o,i=e.state,a=void 0===i||i,c=e.xfbml,s=void 0===c||c,l=e.cookie,d=void 0===l||l,u=e.version,m=void 0===u?"v2.7":u,p=e.language,f=void 0===p?"en_EN":p,v=e.auth_type,w=void 0===v?"":v,b=e.className,y=e.onLoginStart,k=e.onReject,_=e.onResolve,C=e.redirect_uri,j=e.fieldsProfile,x=void 0===j?"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender":j,S=e.response_type,P=void 0===S?"code":S,N=e.return_scopes,E=void 0===N||N,T=e.isOnlyGetToken,R=void 0!==T&&T,I=e.children,A=(0,n.useRef)(null),L=(0,n.useState)(!1),O=L[0],z=L[1],G=(0,n.useState)(!1),B=G[0],U=G[1];(0,n.useEffect)((function(){!O&&V()}),[O]),(0,n.useEffect)((function(){return function(){A.current&&A.current.remove()}}),[]);var F=(0,n.useCallback)((function(e,t){var o=e.createElement("script");o.id="facebook-jssdk",o.src="https://connect.facebook.net/en_EN/sdk.js";var n=e.getElementsByTagName("script")[0];n&&n.parentNode&&n.parentNode.insertBefore(o,n),t()}),[]),D=(0,n.useCallback)((function(){return!!document.getElementById("facebook-jssdk")}),[]),q=(0,n.useCallback)((function(e,t){var o=window;o.fbAsyncInit=function(){o.FB&&o.FB.init(h({},e)),z(!0);var n=t.getElementById("fb-root");n||((n=t.createElement("div")).id="fb-root",t.body.appendChild(n)),A.current=n}}),[]),H=(0,n.useCallback)((function(e){g.FB.api("/me",{locale:f,fields:x},(function(t){_({provider:"facebook",data:h({},e,t)})}))}),[x,f,_]),K=(0,n.useCallback)((function(e){console.log("\ud83d\ude80 ~ file: index.tsx:127 ~ response:",e),e.authResponse?R?_({provider:"facebook",data:h({},e.authResponse)}):H(e.authResponse):k(e),U(!1)}),[H,R,k,_]),V=(0,n.useCallback)((function(){D()?z(!0):F(document,(function(){q({appId:t,xfbml:s,version:m,state:a,cookie:d,redirect_uri:C,response_type:P},document)}))}),[a,t,s,d,m,q,C,P,F,D]),M=(0,n.useCallback)((function(){O&&!B&&(g.FB?(U(!0),y&&y(),g.FB.login(K,{scope:r,return_scopes:E,auth_type:w})):(V(),k("Fb isn't loaded!"),U(!1)))}),[V,r,k,w,O,y,B,E,K]);return n.createElement("div",{className:b,onClick:M},I)})),"875c0462-6309-4ddf-9889-5227b1acc82c"),b=window,y=(0,n.memo)((function(e){var t=e.client_id,o=e.scope,r=void 0===o?"https://www.googleapis.com/auth/userinfo.profile":o,i=e.prompt,a=void 0===i?"select_account":i,c=e.typeResponse,s=void 0===c?"accessToken":c,l=e.ux_mode,d=e.className,u=void 0===d?"":d,m=e.login_hint,p=void 0===m?"":m,f=e.access_type,v=void 0===f?"online":f,g=e.onLoginStart,y=e.onReject,k=e.onResolve,_=e.redirect_uri,C=void 0===_?"/":_,j=e.auto_select,x=void 0!==j&&j,S=e.isOnlyGetToken,P=void 0!==S&&S,N=e.cookie_policy,E=void 0===N?"single_host_origin":N,T=e.hosted_domain,R=void 0===T?"":T,I=e.discoveryDocs,A=void 0===I?"":I,L=e.children,O=e.fetch_basic_profile,z=void 0===O||O,G=(0,n.useRef)(null),B=(0,n.useState)(!1),U=B[0],F=B[1],D=(0,n.useState)(null),q=D[0],H=D[1];(0,n.useEffect)((function(){!U&&X()}),[U]),(0,n.useEffect)((function(){return function(){G.current&&G.current.remove()}}),[]);var K=(0,n.useCallback)((function(){return!!document.getElementById("google-login")}),[]),V=(0,n.useCallback)((function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];G.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r}),[]),M=(0,n.useCallback)((function(e){if("accessToken"===s){var t=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w,Authorization:"Bearer "+e.access_token});fetch("https://cors.bridged.cc/https://www.googleapis.com/oauth2/v3/userinfo?alt=json",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){var o=h({},e,t);k({provider:"google",data:o})})).catch((function(e){y(e)}))}else fetch("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token="+e.credential,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var o=h({},e,t);k({provider:"google",data:o})})).catch((function(e){y(e)}))}),[s,y,k]),W=(0,n.useCallback)((function(e){e&&"offline"===v||P?k({provider:"google",data:e}):M(e)}),[v,P,M,k]),J=(0,n.useCallback)((function(e){y({provider:"google",data:e})}),[y]),X=(0,n.useCallback)((function(){K()?F(!0):V(document,"script","google-login","https://accounts.google.com/gsi/client",(function(){var e={client_id:t,ux_mode:l},o=null;if("idToken"===s)b.google.accounts.id.initialize(h({},e,{auto_select:x,prompt:"select_account",login_uri:C,callback:W,native_callback:W,error_callback:J}));else{var n=h({},e,{scope:r,prompt:a,login_hint:p,access_type:v,hosted_domain:R,redirect_uri:C,cookie_policy:E,discoveryDocs:A,immediate:!0,fetch_basic_profile:z,callback:W,error_callback:J});o="offline"===v?b.google.accounts.oauth2.initCodeClient(n):b.google.accounts.oauth2.initTokenClient(n)}o&&H(o),F(!0)}))}),[r,a,l,t,p,x,v,C,s,A,E,R,W,J,z,V,K]),Z=(0,n.useCallback)((function(){U&&(b.google?(g&&g(),q?"offline"===v?q.requestCode():q.requestAccessToken():b.google.accounts.id.prompt()):(X(),y("Google SDK isn't loaded!")))}),[v,q,U,X,g,y]);return n.createElement("div",{className:u,onClick:Z},L)}));(0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.scope,i=void 0===r?"repo,gist":r,a=e.client_id,c=e.client_secret,s=e.className,l=void 0===s?"":s,d=e.redirect_uri,u=e.allow_signup,m=void 0!==u&&u,p=e.isOnlyGetToken,v=void 0!==p&&p,g=e.isOnlyGetCode,b=void 0!==g&&g,y=e.children,k=e.onReject,_=e.onResolve,C=e.onLoginStart;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_github")&&t&&(localStorage.setItem("github",t),window.close())}),[]);var j=(0,n.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.github.com//user",{method:"GET",headers:{Authorization:"token "+e.access_token,"x-cors-grida-api-key":w}}).then((function(e){return e.json()})).then((function(t){_({provider:"github",data:h({},t,e)})})).catch((function(e){k(e)}))}),[k,_]),x=(0,n.useCallback)((function(e){if(b)_({provider:"github",data:{code:e}});else{var t={code:e,state:o,redirect_uri:d,client_id:a,client_secret:c},n=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w});fetch("https://cors.bridged.cc/https://github.com/login/oauth/access_token",{method:"POST",headers:n,body:new URLSearchParams(t)}).then((function(e){return e.text()})).then((function(e){for(var t,o={},n=function(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(e,void 0):void 0}}(e))){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}(new URLSearchParams(e));!(t=n()).done;){var r=t.value;o[r[0]]=r[1]}o.access_token?v?_({provider:"github",data:o}):j(o):k("no data")})).catch((function(e){k(e)}))}}),[o,k,j,_,a,d,c,b,v]),S=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"github"===n&&o&&x(o))}catch(e){return Promise.reject(e)}}),[x]),P=(0,n.useCallback)((function(){window.removeEventListener("storage",P,!1);var e=localStorage.getItem("github");e&&(S({provider:"github",type:"code",code:e}),localStorage.removeItem("github"))}),[S]),N=(0,n.useCallback)((function(){C&&C(),window.addEventListener("storage",P,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://github.com/login/oauth/authorize?client_id="+a+"&scope="+i+"&state="+o+"_github&redirect_uri="+d+"&allow_signup="+m,"Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[i,o,a,d,m,C,P]);return n.createElement("div",{className:l,onClick:N},y)})),(0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.client_id,i=e.client_secret,a=e.className,c=e.redirect_uri,s=e.fields,l=void 0===s?"id,username,account_type,media_count":s,d=e.scope,u=void 0===d?"user_profile,user_media":d,m=e.response_type,p=void 0===m?"code":m,f=e.isOnlyGetCode,v=void 0!==f&&f,g=e.isOnlyGetToken,b=void 0!==g&&g,y=e.children,k=e.onReject,_=e.onResolve,C=e.onLoginStart;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_instagram")&&t&&(localStorage.setItem("instagram",t),window.close())}),[]);var j=(0,n.useCallback)((function(e){fetch("https://cors.bridged.cc/https://graph.instagram.com//me?fields="+l+"&access_token="+e.access_token,{method:"GET",headers:{"x-cors-grida-api-key":w}}).then((function(e){return e.json()})).then((function(t){_({provider:"instagram",data:h({},t,e)})})).catch((function(e){k(e)}))}),[l,k,_]),x=(0,n.useCallback)((function(e){if(v)_({provider:"instagram",data:{code:e}});else{var t={grant_type:"authorization_code",code:e,redirect_uri:c,client_id:r,client_secret:i},o=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w});fetch("https://cors.bridged.cc/https://api.instagram.com/oauth/access_token",{method:"POST",headers:o,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?b?_({provider:"instagram",data:e}):j(e):k("no data")})).catch((function(e){k(e)})).finally((function(){}))}}),[k,_,j,r,c,i,v,b]),S=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"instagram"===n&&o&&x(o))}catch(e){return Promise.reject(e)}}),[x]),P=(0,n.useCallback)((function(){window.removeEventListener("storage",P,!1);var e=localStorage.getItem("instagram");e&&(S({provider:"instagram",type:"code",code:e}),localStorage.removeItem("instagram"))}),[S]),N=(0,n.useCallback)((function(){C&&C(),window.addEventListener("storage",P,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://api.instagram.com/oauth/authorize?response_type="+p+"&client_id="+r+"&scope="+u+"&state="+o+"_instagram&redirect_uri="+c,"Instagram","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[u,o,r,c,C,p,P]);return n.createElement("div",{className:a,onClick:N},y)})),(0,n.memo)((function(e){var t=e.tenant,o=void 0===t?"common":t,r=e.state,i=void 0===r?"":r,a=e.client_id,c=e.className,s=e.redirect_uri,l=e.scope,d=void 0===l?"profile openid email":l,u=e.response_type,m=void 0===u?"code":u,p=e.response_mode,f=void 0===p?"query":p,v=e.children,g=e.code_challenge,w=void 0===g?"19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9":g,b=e.code_challenge_method,y=void 0===b?"plain":b,k=e.prompt,_=void 0===k?"select_account":k,C=e.isOnlyGetCode,j=void 0!==C&&C,x=e.isOnlyGetToken,S=void 0!==x&&x,P=e.onLoginStart,N=e.onReject,E=e.onResolve;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_microsoft")&&t&&(localStorage.setItem("microsoft",t),window.close())}),[]);var T=(0,n.useCallback)((function(e){fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+e.access_token}}).then((function(e){return e.json()})).then((function(t){E({provider:"microsoft",data:h({},t,e)})})).catch((function(e){N(e)}))}),[N,E]),R=(0,n.useCallback)((function(e){if(j)E({provider:"microsoft",data:{code:e}});else{var t={code:e,scope:d,client_id:a,redirect_uri:s,code_verifier:w,grant_type:"authorization_code"},n=new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"});fetch("https://login.microsoftonline.com/"+o+"/oauth2/v2.0/token",{method:"POST",headers:n,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?S?E({provider:"microsoft",data:e}):T(e):N("no data")})).catch((function(e){N(e)}))}}),[d,o,N,T,a,E,s,w,j,S]),I=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"microsoft"===n&&o&&R(o))}catch(e){return Promise.reject(e)}}),[R]),A=(0,n.useCallback)((function(){window.removeEventListener("storage",A,!1);var e=localStorage.getItem("microsoft");e&&(I({provider:"microsoft",type:"code",code:e}),localStorage.removeItem("microsoft"))}),[I]),L=(0,n.useCallback)((function(){P&&P(),window.addEventListener("storage",A,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://login.microsoftonline.com/"+o+"/oauth2/v2.0/authorize?client_id="+a+"\n        &response_type="+m+"\n        &redirect_uri="+s+"\n        &response_mode="+f+"\n        &scope="+d+"\n        &state="+i+"_microsoft\n        &prompt="+_+"\n        &code_challenge="+w+"\n        &code_challenge_method="+y,"Microsoft","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[d,i,_,o,a,P,s,f,m,w,A,y]);return n.createElement("div",{className:c,onClick:L},v)})),(0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.scope,i=void 0===r?"r_liteprofile":r,a=e.client_id,c=e.client_secret,s=e.className,l=void 0===s?"":s,d=e.redirect_uri,u=e.response_type,m=void 0===u?"code":u,p=e.isOnlyGetCode,f=void 0!==p&&p,v=e.isOnlyGetToken,g=void 0!==v&&v,b=e.children,y=e.onLoginStart,k=e.onReject,_=e.onResolve;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_linkedin")&&t&&(localStorage.setItem("linkedin",t),window.close())}),[]);var C=(0,n.useCallback)((function(e){fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://api.linkedin.com/v2/me?oauth2_access_token="+e.access_token+"&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){var o=h({},e);if(t.contents){var n=JSON.parse(t.contents);"object"==typeof e&&Object.entries(n).map((function(e){o[e[0]]=e[1]}))}_({provider:"linkedin",data:o})})).catch((function(e){k(e)}))}),[k,_]),j=(0,n.useCallback)((function(e){if(f)_({provider:"linkedin",data:{code:e}});else{var t={code:e,grant_type:"authorization_code",redirect_uri:d,client_id:a,client_secret:c},o=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w});fetch("https://cors.bridged.cc/https://www.linkedin.com/oauth/v2/accessToken",{method:"POST",headers:o,body:new URLSearchParams(t)}).then((function(e){return e.json()})).then((function(e){g?_({provider:"linkedin",data:e}):C(e)})).catch((function(e){k(e)}))}}),[k,_,a,C,d,c,f,g]),x=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"linkedin"===n&&o&&j(o))}catch(e){return Promise.reject(e)}}),[j]),S=(0,n.useCallback)((function(){window.removeEventListener("storage",S,!1);var e=localStorage.getItem("linkedin");e&&(x({provider:"linkedin",type:"code",code:e}),localStorage.removeItem("linkedin"))}),[x]),P=(0,n.useCallback)((function(){y&&y(),window.addEventListener("storage",S,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.linkedin.com/oauth/v2/authorization?response_type="+m+"&client_id="+a+"&scope="+i+"&state="+o+"_linkedin&redirect_uri="+d,"Linkedin","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[y,S,m,a,i,o,d]);return n.createElement("div",{className:l,onClick:P},b)})),(0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.scope,i=void 0===r?"boards:read,pins:read,user_accounts:read":r,a=e.client_id,c=e.client_secret,s=e.className,l=void 0===s?"":s,d=e.redirect_uri,u=e.isOnlyGetCode,m=void 0!==u&&u,p=e.isOnlyGetToken,f=void 0!==p&&p,v=e.children,g=e.onLoginStart,b=e.onReject,y=e.onResolve;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_pinterest")&&t&&(localStorage.setItem("pinterest",t),window.close())}),[]);var k=(0,n.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/user_account",{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":w}}).then((function(e){return e.json()})).then((function(t){y({provider:"pinterest",data:h({},e,t)})})).catch((function(e){return b(e)}))}),[b,y]),_=(0,n.useCallback)((function(e){try{var t=function(){if(!m){var t={code:e,redirect_uri:d,grant_type:"authorization_code"},o=[];for(var n in t){var r=encodeURIComponent(n),i=encodeURIComponent(t[n]);o.push(r+"="+i)}return o=o.join("&"),Promise.resolve(fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/oauth/token",{method:"POST",headers:{Authorization:"Basic "+btoa(a+":"+c),"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w},body:o}).then((function(e){return e.json()})).catch((function(e){return b(e)}))).then((function(e){e.access_token&&(f?y({provider:"pinterest",data:e}):k(e))}))}y({provider:"pinterest",data:{code:e}})}();return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[b,a,k,y,d,c,m,f]),C=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"pinterest"===n&&o&&_(o))}catch(e){return Promise.reject(e)}}),[_]),j=(0,n.useCallback)((function(){window.removeEventListener("storage",j,!1);var e=localStorage.getItem("pinterest");e&&(C({provider:"pinterest",type:"code",code:e}),localStorage.removeItem("pinterest"))}),[C]),x=(0,n.useCallback)((function(){g&&g(),window.addEventListener("storage",j,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.pinterest.com/oauth/?client_id="+a+"&scope="+i+"&state="+o+"_pinterest&redirect_uri="+d+"&response_type=code","Pinterest","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[i,o,a,d,g,j]);return n.createElement("div",{className:l,onClick:x},v)})),(0,n.memo)((function(e){var t=e.client_id,o=e.className,r=void 0===o?"":o,i=e.redirect_uri,a=e.children,c=e.fields,s=void 0===c?"created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld":c,l=e.state,d=void 0===l?"state":l,u=e.scope,m=void 0===u?"users.read%20tweet.read":u,p=e.isOnlyGetCode,f=void 0!==p&&p,v=e.isOnlyGetToken,g=void 0!==v&&v,b=e.onLoginStart,y=e.onReject,k=e.onResolve;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code");e.searchParams.get("state")&&t&&(localStorage.setItem("twitter",""+t),window.close())}),[]);var _=(0,n.useCallback)((function(e){fetch("https://cors.bridged.cc/https://api.twitter.com/2/users/me?user.fields="+s,{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":w}}).then((function(e){return e.json()})).then((function(t){k({provider:"twitter",data:h({},e,t.data)})})).catch((function(e){return y(e)}))}),[s,y,k]),C=(0,n.useCallback)((function(e){try{var o=function(){if(!f){var o=new URLSearchParams({code:e,redirect_uri:i,client_id:t,grant_type:"authorization_code",code_verifier:"challenge"});return Promise.resolve(fetch("https://cors.bridged.cc/https://api.twitter.com/2/oauth2/token",{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":w}}).then((function(e){return e.json()})).catch((function(e){return y(e)}))).then((function(e){e.access_token&&(g?k({provider:"twitter",data:e}):_(e))}))}k({provider:"twitter",data:{code:e}})}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[y,_,k,t,i,f,g]),j=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"twitter"===n&&o&&C(o))}catch(e){return Promise.reject(e)}}),[C]),x=(0,n.useCallback)((function(){window.removeEventListener("storage",x,!1);var e=localStorage.getItem("twitter");e&&(j({provider:"twitter",type:"code",code:e}),localStorage.removeItem("twitter"))}),[j]),S=(0,n.useCallback)((function(){try{b&&b(),window.addEventListener("storage",x,!1);var e=window.screen.width/2-225,o=window.screen.height/2-365;return window.open("https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+t+"&redirect_uri="+i+"&scope="+m+"&state="+d+"&code_challenge=challenge&code_challenge_method=plain","twitter","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+o+", left="+e),Promise.resolve()}catch(e){return Promise.reject(e)}}),[m,d,t,b,i,x]);return n.createElement("div",{className:r,onClick:S},a)}));"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var k=window;(0,n.memo)((function(e){var t=e.client_id,o=e.scope,r=void 0===o?"name email":o,i=e.className,a=void 0===i?"":i,c=e.onLoginStart,s=e.onReject,l=e.onResolve,d=e.redirect_uri,u=void 0===d?"/":d,m=e.children,p=(0,n.useRef)(null),h=(0,n.useState)(!1),f=h[0],v=h[1];(0,n.useEffect)((function(){!f&&y()}),[f]),(0,n.useEffect)((function(){return function(){p.current&&p.current.remove()}}),[]);var g=(0,n.useCallback)((function(){return!!document.getElementById("apple-login")}),[]),w=(0,n.useCallback)((function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];p.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r}),[]),b=(0,n.useCallback)((function(e){l({provider:"apple",data:e})}),[l]),y=(0,n.useCallback)((function(){g()?v(!0):w(document,"script","apple-login","https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",(function(){k.AppleID.auth.init({clientId:t,scope:r,redirectURI:u,state:"origin:web",usePopup:!0}),v(!0)}))}),[r,t,u,w,g]),_=(0,n.useCallback)((function(){try{if(!f)return Promise.resolve();var e=function(){if(k.AppleID){c&&c();var e=function(e,t){try{var o=Promise.resolve(k.AppleID.auth.signIn()).then((function(e){b(e)}))}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}(0,(function(e){s({err:e})}));if(e&&e.then)return e.then((function(){}))}else y(),s("Apple SDK isn't loaded!")}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[b,f,y,c,s]);return n.createElement("div",{className:a,onClick:_},m)})),(0,n.memo)((function(e){var t=e.state,o=void 0===t?"":t,r=e.scope,i=void 0===r?"user.info.basic":r,a=e.client_key,c=e.className,s=void 0===c?"":c,l=e.redirect_uri,d=e.children,u=e.onResolve,m=e.onLoginStart;(0,n.useEffect)((function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_tiktok")&&t&&(localStorage.setItem("tiktok",t),window.close())}),[]);var p=(0,n.useCallback)((function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"tiktok"===n&&o&&u({provider:"tiktok",data:{code:o}}))}catch(e){return Promise.reject(e)}}),[u]),h=(0,n.useCallback)((function(){window.removeEventListener("storage",h,!1);var e=localStorage.getItem("tiktok");e&&(p({provider:"tiktok",type:"code",code:e}),localStorage.removeItem("instagram"))}),[p]),f=(0,n.useCallback)((function(){m&&m(),window.addEventListener("storage",h,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.tiktok.com/auth/authorize?client_key="+a+"&scope="+i+"&state="+o+"_tiktok&redirect_uri="+l+"&response_type=code","Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)}),[i,o,a,l,m,h]);return n.createElement("div",{className:s,onClick:f},d)}));const _=o.p+"static/media/google.50b5553cee5e57450b6697b8e1961e4a.svg";const C=o.p+"static/media/facebook.30f26f13c8b2b7a14b5d10844c87eb4e.svg";const j=o.p+"static/media/apple.5fd46b0e8800eed06c8410734b16be48.svg";var x=o(3216),S=o(579);const P=e=>{(0,x.Zp)();const t=(0,n.useCallback)((e=>{}),[]);return(0,S.jsxs)("div",{className:"d-flex justify-content-center mt-5 fs-5 h-0 mb-1",children:[e.facebook?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)("img",{src:C}),e.google?(0,S.jsx)(y,{isOnlyGetToken:!0,client_id:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GG_APP_ID,onLoginStart:t,redirect_uri:"https://localhost:3000/gift-card-library",scope:"openid profile email",discoveryDocs:"claims_supported",access_type:"offline",typeResponse:"accessToken",onResolve:e=>{let{provider:t,data:o}=e;(async e=>{const t={token:e,device:"web"};try{var o,n,i;const e=await(0,l.V2)(t);return r.Ay.success(null===e||void 0===e||null===(o=e.meta)||void 0===o?void 0:o.message),d.A.set("token",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.token,{expires:7}),d.A.set("user",JSON.stringify(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.user,{expires:7})),window.location.replace("/gift-card-library"),e}catch(c){var a;r.Ay.error(null===c||void 0===c||null===(a=c.meta)||void 0===a?void 0:a.message)}})(null===o||void 0===o?void 0:o.access_token)},onReject:e=>{console.log("err",e)},children:(0,S.jsx)("img",{src:_,className:"cursor-pointer"})}):(0,S.jsx)("img",{src:_}),e.apple?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)("img",{src:j})]})},N=()=>{const e=(0,u.wA)();return(0,S.jsx)(p.A,{children:(0,S.jsxs)(i.A,{name:"normal_login",className:"login-form p-10 bg-white p-md-auto br-3 br-md-0 max-w-md-full",initialValues:{remember:!0},onFinish:t=>{(async t=>{try{var o,n;const i=await(0,l.MI)(t);d.A.set("user",JSON.stringify(null===i||void 0===i?void 0:i.data.user),{expires:7}),e((0,m.sX)(null===i||void 0===i?void 0:i.data)),d.A.set("token",null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.token,{expires:7}),r.Ay.success(null===i||void 0===i||null===(n=i.meta)||void 0===n?void 0:n.message),window.location.replace("/gift-card-library")}catch(a){var i;r.Ay.error(null===a||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.message)}})({email:null===t||void 0===t?void 0:t.email,password:null===t||void 0===t?void 0:t.password})},children:[(0,S.jsxs)("div",{className:"text-primary-dark",children:[(0,S.jsx)("p",{className:"custom-fonts fs-4 fw-bold h-8 mt-0",children:"Sign in to Pifit!"}),(0,S.jsx)("p",{className:"fs-small",children:"The technology revolution is moving to the next level."})]}),(0,S.jsx)(i.A.Item,{name:"email",rules:[{required:!0,message:"Please enter email or username"}],className:"mb-5",children:(0,S.jsx)(a.A,{prefix:(0,S.jsx)("i",{className:"icon-email text-link fs-4"}),placeholder:"Username / Email Id",size:"medium",autoComplete:"off",className:"py-2"})}),(0,S.jsx)(i.A.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],className:"mb-1",hasFeedback:!0,children:(0,S.jsx)(a.A.Password,{prefix:(0,S.jsx)("i",{className:"icon-password text-link fs-4"}),type:"password",placeholder:"Password",size:"medium",className:"py-2"})}),(0,S.jsx)(i.A.Item,{className:"d-flex justify-content-end mb-4 h-min",children:(0,S.jsx)(s.N_,{className:"text-decoration-underline",to:"/forgot-password",children:"Forgot password?"})}),(0,S.jsxs)(i.A.Item,{children:[(0,S.jsx)(c.Ay,{type:"primary",htmlType:"submit",className:"login-form-button fw-bold w-full h-14",children:"Sign In"}),(0,S.jsx)("div",{className:"text-center mt-7 fs-small h-0 text-primary-dark",children:"Or login with"}),(0,S.jsx)(P,{facebook:!1,google:!0,apple:!1})]})]})})}},2799:(e,t,o)=>{o.d(t,{A:()=>d});o(5043);var n=o(5036),r=o(450);const i=o.p+"static/media/blue-lines-bg.b2cf4cf32f9f472ff0a1.jpg";var a=o(3216),c=o(9800),s=o(1645),l=o(579);const d=e=>{const{children:t}=e,o=(0,a.Zp)();return(0,l.jsx)("div",{className:"h-lg-full p-md-0 p-8",style:{height:"calc(100vh - 4em)"},children:(0,l.jsxs)("div",{className:"d-flex d-lg-block h-lg-screen h-full border-md-0 border-2-transparent br-5",children:[(0,l.jsxs)("div",{className:"position-relative bg-primary-dark text-white w-lg-full h-lg-68 h-md-max w-half border-left-2 br-tl-lg-0 br-bl-lg-0 br-tl-3 br-bl-3",children:[(0,l.jsx)("img",{src:r,className:"position-absolute w-full img-md-cover h-60 h-lg-full",alt:""}),(0,l.jsxs)("div",{className:"d-flex flex-column h-md-half h-full pl-md-0",children:[(0,l.jsx)("img",{src:n.A,alt:"img",onClick:()=>o("/"),className:"w-36  w-md-32 mb-auto mb-md-5 pt-8 mx-md-auto pl-md-0 pl-8 cursor-pointer z-10"}),(0,l.jsxs)("div",{className:"custom-fonts w-68 w-lg-60 w-md-auto fs-8 fs-xl-5 fs-lg-4 fs-md-3 fw-bold text-md-center lh-3 pl-3 pb-3 px-md-2 my-md-8",children:['"We exist to empower to Create'," ",(0,l.jsx)("span",{className:"text-yellow-dark",children:"Universal Loyalty Platform!"}),'"']})]})]}),(0,l.jsxs)("div",{className:"position-relative d-flex justify-content-center align-items-center overflow-lg-auto w-half w-lg-full",children:[(0,l.jsx)("img",{src:i,className:"d-flex justify-content-center position-absolute d-md-none h-full w-full m-0",alt:""}),(0,l.jsx)(c.A,{className:"z-1",justify:"center",children:(0,l.jsx)(s.A,{span:24,children:(0,l.jsx)("div",{className:"py-md-0 py-8",children:t})})})]})]})})}},3692:(e,t,o)=>{o.d(t,{HV:()=>i,MI:()=>r,Nd:()=>s,V2:()=>d,Vo:()=>a,hX:()=>c,zz:()=>l});var n=o(57);const r=async e=>{try{return await(0,n.m)({method:"POST",path:"login",data:e,isTokenRequired:!1})}catch(t){throw t}},i=async e=>{try{return await(0,n.m)({method:"POST",path:"logout",data:e,isTokenRequired:!0})}catch(t){throw t}},a=async e=>{try{return await(0,n.m)({method:"POST",path:"forgot-password",data:e,isTokenRequired:!1})}catch(t){throw t}},c=async e=>{try{return await(0,n.m)({method:"POST",path:"verify-otp",data:e,isTokenRequired:!1})}catch(t){throw t}},s=async e=>{try{return await(0,n.m)({method:"POST",path:"reset-password",data:e,isTokenRequired:!1})}catch(t){throw t}},l=async e=>{try{return await(0,n.m)({method:"POST",path:"resend-otp",data:e,isTokenRequired:!1})}catch(t){throw t}},d=async e=>{try{return await(0,n.m)({method:"POST",path:"google-login",data:e})}catch(t){throw t}}},1645:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(227).A},9800:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(8821).A},450:(e,t,o)=>{e.exports=o.p+"static/media/while-lines.34934c300751d3caec05.png"}}]);
//# sourceMappingURL=802.0fc6706e.chunk.js.map